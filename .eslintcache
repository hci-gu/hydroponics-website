[{"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/index.js":"1","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/api.js":"2","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/components/Plant.js":"3","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/state.js":"4","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Home.js":"5","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Info.js":"6","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/index.js":"7","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/components/PlantCreator.js":"8","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/components/ImagePagination.js":"9"},{"size":1327,"mtime":1625055517173,"results":"10","hashOfConfig":"11"},{"size":1146,"mtime":1625054360177,"results":"12","hashOfConfig":"11"},{"size":4870,"mtime":1625055455292,"results":"13","hashOfConfig":"11"},{"size":168,"mtime":1613125454262,"results":"14","hashOfConfig":"11"},{"size":2395,"mtime":1625055488159,"results":"15","hashOfConfig":"11"},{"size":2537,"mtime":1625054360187,"results":"16","hashOfConfig":"11"},{"size":808,"mtime":1625055567556,"results":"17","hashOfConfig":"11"},{"size":3288,"mtime":1625055392601,"results":"18","hashOfConfig":"11"},{"size":1587,"mtime":1625055583821,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"adfq0a",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/index.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/api.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/components/Plant.js",["40"],"import React, { useEffect, useState } from 'react'\nimport { Card, Image as AntImage, Slider } from 'antd'\nimport moment from 'moment'\nimport styled from 'styled-components'\nimport { getImagesForPlant } from '../api'\n\nconst CARD_WIDTH = 760\n\nconst X_OFFSET = 30\nconst Y_OFFSET = 300\nconst IMAGE_WIDTH = 1600\nconst PLANT_WIDTH = 800\n\nconst gridStyle = {\n  width: '25%',\n  textAlign: 'center',\n}\n\nconst bigGrid = {\n  width: '100%',\n}\n\nconst ImageCropper = styled.div`\n  width: ${CARD_WIDTH}px;\n  height: 700px;\n  overflow: hidden;\n\n  position: relative;\n\n  > div {\n    display: block;\n  }\n  > div > img {\n    position: absolute;\n  }\n  > span {\n    width: 150px;\n    padding: 5px;\n    position: absolute;\n    z-index: 100;\n    background-color: black;\n    color: white;\n    left: calc(50% - 75px);\n    bottom: 0;\n  }\n`\nconst { Meta } = Card\n\nlet imageCache = {}\n\nconst Plant = ({ plant }) => {\n  const [images, setImages] = useState([])\n  const [index, setIndex] = useState(0)\n  useEffect(() => {\n    const getData = async () => {\n      const _images = await getImagesForPlant(plant)\n      setImages(_images.reverse())\n      setIndex(_images.length - 1)\n    }\n    getData()\n  }, [setImages, setIndex])\n\n  const imageStyle = {\n    top: -Y_OFFSET,\n    left: -(PLANT_WIDTH * plant.imagePosition) - X_OFFSET,\n    width: IMAGE_WIDTH,\n  }\n\n  useEffect(() => {\n    const from = Math.max(0, index - 10)\n    const to = Math.min(images.length, index + 10)\n\n    for (let i = from; i < to; i++) {\n      if (!imageCache[i]) {\n        const preloadImage = new Image()\n        preloadImage.src = images[i].imageUrl\n        imageCache[i] = preloadImage\n      }\n    }\n  }, [images, index])\n\n  if (images.length === 0)\n    return (\n      <Card\n        hoverable\n        style={{ width: `${CARD_WIDTH}px`, textAlign: 'center' }}\n        title={`Den här plantan är påväg!`}\n      >\n        <ImageCropper>\n          <AntImage\n            style={{ width: 260, top: 160, left: 250 }}\n            src=\"https://i.imgur.com/1KmQLKx.png\"\n            preview={false}\n          />\n        </ImageCropper>\n        <Card.Grid hoverable={false} style={gridStyle}>\n          {' '}\n          <Meta title=\"pH\" description={`${plant.ph}`} />\n        </Card.Grid>\n        <Card.Grid hoverable={false} style={gridStyle}>\n          {' '}\n          <Meta\n            title=\"Temperatur\"\n            description={`${plant.temperature ? plant.temperature : '-'} c°`}\n          />\n        </Card.Grid>\n        <Card.Grid hoverable={false} style={gridStyle}>\n          {' '}\n          <Meta\n            title=\"Ljustimmar\"\n            description={`${plant.lightHours ? plant.lightHours : '-'}/dag`}\n          />\n        </Card.Grid>\n        <Card.Grid hoverable={false} style={gridStyle}>\n          {' '}\n          <Meta\n            title=\"Planterad\"\n            description={`${moment(plant.growthStart).format('YYYY-MM-DD')}`}\n          />\n        </Card.Grid>\n        <Card.Grid hoverable={false} style={bigGrid}>\n          <Meta\n            title=\"Annan information\"\n            description={`${plant.information}`}\n          />\n        </Card.Grid>\n      </Card>\n    )\n\n  const imageToDisplay = images[index]\n  return (\n    <Card\n      hoverable\n      style={{ width: `${CARD_WIDTH}px`, textAlign: 'center' }}\n      title={`${plant.name} - ${plant.id}`}\n    >\n      <ImageCropper>\n        <AntImage\n          style={imageStyle}\n          src={imageToDisplay.imageUrl}\n          preview={false}\n        />\n      </ImageCropper>\n      <Slider\n        value={index}\n        min={0}\n        max={images.length - 1}\n        onChange={(val) => setIndex(val)}\n        tipFormatter={(val) => (\n          <strong>\n            {moment(imageToDisplay.imageTaken).format('YYYY-MM-DD HH:mm')}\n          </strong>\n        )}\n        tooltipVisible\n      />\n\n      <Card.Grid hoverable={false} style={gridStyle}>\n        {' '}\n        <Meta title=\"pH\" description={`${plant.ph}`} />\n      </Card.Grid>\n      <Card.Grid hoverable={false} style={gridStyle}>\n        {' '}\n        <Meta\n          title=\"Temperatur\"\n          description={`${\n            imageToDisplay.temperature\n              ? imageToDisplay.temperature.toFixed(2)\n              : '-'\n          } c°`}\n        />\n      </Card.Grid>\n      <Card.Grid hoverable={false} style={gridStyle}>\n        {' '}\n        <Meta\n          title=\"Ljustimmar\"\n          description={`${plant.lightHours ? plant.lightHours : '-'}/dag`}\n        />\n      </Card.Grid>\n      <Card.Grid hoverable={false} style={gridStyle}>\n        {' '}\n        <Meta\n          title=\"Planterad\"\n          description={`${moment(plant.growthStart).format('YYYY-MM-DD')}`}\n        />\n      </Card.Grid>\n      <Card.Grid hoverable={false} style={bigGrid}>\n        <Meta title=\"Annan information\" description={`${plant.information}`} />\n      </Card.Grid>\n    </Card>\n  )\n}\n\nexport default Plant\n","/Users/xandse/Documents/code/work/gu/hydroponics-website/src/state.js",[],["41","42"],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Home.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Info.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/index.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/components/PlantCreator.js",[],"/Users/xandse/Documents/code/work/gu/hydroponics-website/src/pages/Admin/components/ImagePagination.js",[],{"ruleId":"43","severity":1,"message":"44","line":61,"column":6,"nodeType":"45","endLine":61,"endColumn":27,"suggestions":"46"},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'plant'. Either include it or remove the dependency array.","ArrayExpression",["51"],"no-native-reassign",["52"],"no-negated-in-lhs",["53"],{"desc":"54","fix":"55"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [plant, setImages, setIndex]",{"range":"56","text":"57"},[1175,1196],"[plant, setImages, setIndex]"]